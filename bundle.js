(()=>{"use strict";class e{constructor(e){this.board=e||[],this.missed=[],this.hits=[],this.allow=!1,this.name=""}initialize(e){for(let t=0;t<10;t+=1){this.board[t]=[];for(let r=0;r<10;r+=1)this.board[t][r]=e,e++}}placeShip(e){const{column:t}=e,{position:r}=e;for(let e=0;e<r.length;e+=1)for(let n=0;n<r.length;n+=1)this.board[t[e]][this.board[t[e]].indexOf(r[n])]="x"}recieveAttack(e){this.hits.push(e)}recieveMiss(e){this.missed.push(e)}isMissed(e){return this.missed.includes(e)}allowAttack(){return this.allow}instanceName(){return this}allShipSunk(){return 16===this.hits.length}}class t{constructor(){this.turn=!0,this.position=this.position}autoPlay(e){return e[Math.floor(100*Math.random())]}}class r{constructor(e,t,r){this.length=e,this.hits=[],this.position=r||[],this.column=t||[]}hit(e){this.hits.push(e)}allShipSunk(){return 16===this.hits.length}}const n=(e,t,r,n)=>{const l=document.querySelector(t),{board:i}=e;let o=0;i.forEach((e=>{e.forEach((e=>{const t=document.createElement("div");t.classList.add(r),t.classList.add(n),t.setAttribute("value",e),t.setAttribute("id",o),l.appendChild(t),t.value=e,t.textContent=e,o+=1}))}))},l=(e,t,r,n)=>{i(t,r);const l=document.querySelector(`#${t}`),{board:o}=e;let a=0;o.forEach((e=>{e.forEach((e=>{const t=document.createElement("div");t.classList.add(r),t.classList.add(n),t.setAttribute("value",e),t.setAttribute("id",a),l.appendChild(t),t.value=e,t.textContent=e,a+=1}))})),a=0},i=(e,t)=>{const r=document.querySelector(`#${e}`);document.querySelectorAll(`.${t}`).forEach((e=>{r.removeChild(e)}))},o=(e,t,r)=>{const n=[6,7,8,9],l=[7,8,9],i=[8,9],o=[9];if(1===r)switch(!0){case 5===e.length&&n.includes(t.target.value%10):case 4===e.length&&l.includes(t.target.value%10):case 3===e.length&&i.includes(t.target.value%10):case 2===e.length&&o.includes(t.target.value%10):return!0}if(10===r)switch(!0){case 5===e.length&&n.includes(Math.floor(t.target.value/10)):case 4===e.length&&l.includes(Math.floor(t.target.value/10)):case 3===e.length&&i.includes(Math.floor(t.target.value/10)):case 2===e.length&&o.includes(Math.floor(t.target.value/10)):return!0}},a=(e,t,r,n)=>{const l=[];if(1!==e.length){for(let i=0;i<=(e.length-1)*n;i+=n){if(o(e,t,n))return;if(t.target.value+i==="x0")return;if(null===document.querySelector(`div[value="${t.target.value+i}"]`))return;if(t.target.value+i==="x0")return;document.querySelector(`div[value="${t.target.value+i}"]`).style.backgroundColor=r,l.push(t.target.value+i)}return l}},s=(e,t)=>{const r=e.autoPlay(t),n=new Map;n.set(r,r.value);const l=n.entries().next().value;return{key:l[0],value:l[1]}},c=[],u=[];let d=!0,h="horizontal",g=1;const p=document.querySelector("#rotate"),v=(n,i)=>{const o=document.querySelectorAll(`.player-grids.${h}`),u=new r(i,[0,0,0],[1,2,3]);3===i&&d&&(i+=1,d=!1),i<=1?(r=>{const n=new e;let l,i,o;n.name="aiBoard";const a=document.querySelectorAll(".player-grids");document.querySelectorAll(".ai-grids").forEach((e=>e.addEventListener("click",(u=>{const d=u.target.value,h=u.target.id;l=new t;const g=s(l,a);i=g.key,o=g.value,"x"!==d||c.includes(h)?"x"!==d&&(e.style.backgroundColor="lightgreen",f(i,o,r)):(c.push(h),n.recieveAttack(d),m(n),e.style.backgroundColor="rgb(248, 78, 49 )",f(i,o,r))}))))})(n):(o.forEach((e=>e.addEventListener("mouseover",(t=>{a(u,t,"lightblue",g),e.addEventListener("click",(e=>{try{u.position=a(u,e,"red",g),u.column=(e=>{const t=[];for(let r=0;r<=e.length-1;r+=1)e.position[r]&&t.push(Math.floor(e.position[r]/10));return t})(u),n.placeShip(u),l(n,"primary-container","player-grids",h),Array.from(document.querySelectorAll(".player-grids")).filter((e=>"x"===e.value)).forEach((e=>e.style.backgroundColor="lightblue"))}catch{return}v(n,i-1)}))})))),o.forEach((e=>e.addEventListener("mouseout",(e=>{a(u,e,"rgb(232 230 230)",g)})))))},f=(e,r,n)=>{let l=!1;e.addEventListener("click",(i=>{if(l)return;l=!0;let o=i.target.value,a=i.target.id;if(u.includes(a)){const n=document.querySelectorAll(".player-grids"),l=new t;let i=s(l,n);for(;u.includes(i.key.id);)i=s(l,n);e=i.key,r=i.value,o=i.value,a=i.key.id}"x"!==r||u.includes(a)?"x"===o||n.isMissed(o)?n.isMissed(o):(u.push(a),n.recieveMiss(o),e.style.backgroundColor="lightgreen"):(u.push(a),n.recieveAttack(r),m(n),e.style.backgroundColor="rgb(248, 78, 49)")}));const i=new Event("click");e.dispatchEvent(i)};p.addEventListener("click",(()=>{"horizontal"===h?(h="vertical",g=10):"vertical"===h&&(h="horizontal",g=1)}));const m=e=>{let t="";if(17===e.hits.length){t="aiBoard"===e.name?"You":"Computer";const r=document.querySelector(".winner-container");r.classList.add("show"),r.firstElementChild.textContent=`${t} Won!!`,r.addEventListener("click",(e=>{e.target instanceof HTMLButtonElement&&location.reload()}))}},y=(e,t)=>{e.column.fill(t);const r=Math.floor(5*Math.random()).toString();let n=parseInt(`1${t}${r}`);e.position=e.position.map((e=>{const t=n+1;return n+=1,t}))};(()=>{const t=new e,i=new e;t.initialize(0),i.initialize(100),n(t,"#primary-container","player-grids","horizontal"),n(i,"#secondary-container","ai-grids","horizontal"),(e=>{const t=new r(5,[0,0,0,0,0],[101,102,103,104,105]),n=new r(4,[7,7,7,7],[173,174,175,176]),i=new r(3,[2,2,2],[122,123,124]),o=new r(3,[4,4,4],[144,145,146]),a=new r(2,[8,9],[181,191]),s=(e=>{const t=[];let r=Math.floor(10*Math.random());for(let e=0;e<5;e+=1){for(;t.includes(r);)r=Math.floor(10*Math.random());t.push(r)}return t})();y(t,s[0]),y(n,s[1]),y(i,s[2]),y(o,s[3]),y(a,s[4]),e.placeShip(t),e.placeShip(n),e.placeShip(i),e.placeShip(o),e.placeShip(a),l(e,"secondary-container","ai-grids","horizontal")})(i),v(t,5,i)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnZHLEVBQU1tQixFQUFPLElBQ3BDb0YsRUFBdUJTLEVBQU83RixFQUFPLElBQ3JDb0YsRUFBdUJVLEVBQU85RixFQUFPLElBQ3JDb0YsRUFBdUJXLEVBQU8vRixFQUFPLElBQ3JDb0YsRUFBdUJZLEVBQU9oRyxFQUFPLElBRXJDeUQsRUFBVTdFLFVBQVVDLEdBQ3BCNEUsRUFBVTdFLFVBQVVpSCxHQUNwQnBDLEVBQVU3RSxVQUFVa0gsR0FDcEJyQyxFQUFVN0UsVUFBVW1ILEdBQ3BCdEMsRUFBVTdFLFVBQVVvSCxHQUNwQjFFLEVBQVltQyxFQUFXLHNCQUF1QixXQUFZLGFBQWEsRUN0V3ZFMkMsQ0FBY3pDLEdBRWRILEVBQWtCRSxFQUFhLEVBQUdDLEVBQVEsRUFFNUMwQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMvR2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9TaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2NyaXB0cy9kb20uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zY3JpcHRzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUJvYXJkIHtcbiAgY29uc3RydWN0b3IoYm9hcmQpIHtcbiAgICB0aGlzLmJvYXJkID0gYm9hcmQgfHwgW107XG4gICAgdGhpcy5taXNzZWQgPSBbXTtcbiAgICB0aGlzLmhpdHMgPSBbXTtcbiAgICB0aGlzLmFsbG93ID0gZmFsc2U7XG4gICAgdGhpcy5uYW1lID0gJyc7XG4gIH1cblxuICBpbml0aWFsaXplKGNvdW50KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XG4gICAgICB0aGlzLmJvYXJkW2ldID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcbiAgICAgICAgdGhpcy5ib2FyZFtpXVtqXSA9IGNvdW50O1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHBsYWNlU2hpcChzaGlwKSB7XG4gICAgY29uc3QgeyBjb2x1bW4gfSA9IHNoaXA7XG4gICAgY29uc3QgeyBwb3NpdGlvbiB9ID0gc2hpcDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zaXRpb24ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcG9zaXRpb24ubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgdGhpcy5ib2FyZFtjb2x1bW5baV1dW3RoaXMuYm9hcmRbY29sdW1uW2ldXS5pbmRleE9mKHBvc2l0aW9uW2pdKV0gPSAneCc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVjaWV2ZUF0dGFjayhwb3NpdGlvbikge1xuICAgIHRoaXMuaGl0cy5wdXNoKHBvc2l0aW9uKTtcbiAgfVxuXG4gIHJlY2lldmVNaXNzKHBvc2l0aW9uKSB7XG4gICAgdGhpcy5taXNzZWQucHVzaChwb3NpdGlvbik7XG4gIH1cblxuICBpc01pc3NlZChwb3NpdGlvbikge1xuICAgIHJldHVybiB0aGlzLm1pc3NlZC5pbmNsdWRlcyhwb3NpdGlvbik7XG4gIH1cblxuICBhbGxvd0F0dGFjaygpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxvdztcbiAgfVxuXG4gIGluc3RhbmNlTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFsbFNoaXBTdW5rKCkge1xuICAgIGlmICh0aGlzLmhpdHMubGVuZ3RoID09PSAxNikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50dXJuID0gdHJ1ZTtcbiAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgfVxuXG4gIGF1dG9QbGF5KGdyaWQpIHtcbiAgICBjb25zdCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xuXG4gICAgcmV0dXJuIGdyaWRbcmFuZG9tXTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hpcCB7XG4gIGNvbnN0cnVjdG9yKGxlbmd0aCwgY29sdW1uLCBwb3NpdGlvbikge1xuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIHRoaXMuaGl0cyA9IFtdO1xuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbiB8fCBbXTtcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbiB8fCBbXTtcbiAgfVxuICBoaXQoaGl0UG9zaXRpb24pIHtcbiAgICB0aGlzLmhpdHMucHVzaChoaXRQb3NpdGlvbik7XG4gIH1cblxuICBhbGxTaGlwU3VuaygpIHtcbiAgICBpZiAodGhpcy5oaXRzLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1kZXN0cnVjdHVyaW5nICovXG4vKiBlc2xpbnQtZGlzYWJsZSBkZWZhdWx0LWNhc2UgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuLyogZXNsaW50LWRpc2FibGUgcmFkaXggKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXR1cm4tYXNzaWduICovXG4vKiBlc2xpbnQtZGlzYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXNoYWRvdyAqL1xuaW1wb3J0IEdhbWVCb2FyZCBmcm9tICcuLi9mYWN0b3JpZXMvR2FtZUJvYXJkJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi4vZmFjdG9yaWVzL1BsYXllcic7XG5pbXBvcnQgU2hpcCBmcm9tICcuLi9mYWN0b3JpZXMvU2hpcCc7XG5cbi8vIFRPRE86IGZpeCBpc3N1ZSBjYXVzaW5nIG11bHRpcGxlIGNsaWNrcyB0byByZWdpc3RlciBtdWx0aXBsZSBhdHRhY2tzXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCb2FyZCA9IChuZXdCb2FyZCwgaWQsIGNsYXNzTmFtZSwgZGlyZWN0aW9uKSA9PiB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpO1xuXG4gIGNvbnN0IHsgYm9hcmQgfSA9IG5ld0JvYXJkO1xuICBsZXQgY291bnQgPSAwO1xuICBib2FyZC5mb3JFYWNoKChlKSA9PiB7XG4gICAgZS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICBkaXYuY2xhc3NMaXN0LmFkZChkaXJlY3Rpb24pO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBlKTtcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgY291bnQpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICBkaXYudmFsdWUgPSBlO1xuICAgICAgZGl2LnRleHRDb250ZW50ID0gZTtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgfSk7XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCB1cGRhdGVCb2FyZCA9IChuZXdCb2FyZCwgY29udGFpbmVySUQsIGdyaWRJRCwgZGlyZWN0aW9uKSA9PiB7XG4gIHJlbW92ZUJvYXJkKGNvbnRhaW5lcklELCBncmlkSUQpO1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtjb250YWluZXJJRH1gKTtcbiAgY29uc3QgeyBib2FyZCB9ID0gbmV3Qm9hcmQ7XG4gIGxldCBjb3VudCA9IDA7XG4gIGJvYXJkLmZvckVhY2goKGUpID0+IHtcbiAgICBlLmZvckVhY2goKGUpID0+IHtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoZ3JpZElEKTtcbiAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKGRpcmVjdGlvbik7XG4gICAgICBkaXYuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGUpO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBjb3VudCk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgIGRpdi52YWx1ZSA9IGU7XG4gICAgICBkaXYudGV4dENvbnRlbnQgPSBlO1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9KTtcbiAgfSk7XG4gIGNvdW50ID0gMDtcbn07XG5leHBvcnQgY29uc3QgcmVtb3ZlQm9hcmQgPSAoY29udGFpbmVySUQsIGdyaWRJRCkgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtjb250YWluZXJJRH1gKTtcbiAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke2dyaWRJRH1gKTtcbiAgZ3JpZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjbGlja0V2ZW50ID0gKHBsYXllciwgYWkpID0+IHtcbiAgY29uc3QgZ3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ3JpZHMnKTtcbiAgZ3JpZHMuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAocGxheWVyLnR1cm4pIHtcbiAgICAgIGFpLnR1cm4gPSB0cnVlO1xuICAgICAgcGxheWVyLnR1cm4gPSBmYWxzZTtcblxuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ2NsaWNrJyk7XG4gICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoYWkudHVybikge1xuICAgICAgYWkudHVybiA9IGZhbHNlO1xuICAgICAgcGxheWVyLnR1cm4gPSB0cnVlO1xuICAgIH1cbiAgfSkpO1xufTtcblxuY29uc3QgY2hlY2tJZk91dE9mQm91bmQgPSAoc2hpcCwgZXZlbnQsIGluY3JlbWVudCkgPT4ge1xuICBjb25zdCBvdXRPZkJvdW5kNSA9IFs2LCA3LCA4LCA5XTtcbiAgY29uc3Qgb3V0T2ZCb3VuZDQgPSBbNywgOCwgOV07XG4gIGNvbnN0IG91dE9mQm91bmQzID0gWzgsIDldO1xuICBjb25zdCBvdXRPZkJvdW5kMiA9IFs5XTtcblxuICBpZiAoaW5jcmVtZW50ID09PSAxKSB7XG4gICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSA1ICYmIG91dE9mQm91bmQ1LmluY2x1ZGVzKGV2ZW50LnRhcmdldC52YWx1ZSAlIDEwKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSA0ICYmIG91dE9mQm91bmQ0LmluY2x1ZGVzKGV2ZW50LnRhcmdldC52YWx1ZSAlIDEwKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSAzICYmIG91dE9mQm91bmQzLmluY2x1ZGVzKGV2ZW50LnRhcmdldC52YWx1ZSAlIDEwKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSAyICYmIG91dE9mQm91bmQyLmluY2x1ZGVzKGV2ZW50LnRhcmdldC52YWx1ZSAlIDEwKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChpbmNyZW1lbnQgPT09IDEwKSB7XG4gICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSA1XG4gICAgICAgICYmIG91dE9mQm91bmQ1LmluY2x1ZGVzKE1hdGguZmxvb3IoZXZlbnQudGFyZ2V0LnZhbHVlIC8gMTApKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSA0XG4gICAgICAgICYmIG91dE9mQm91bmQ0LmluY2x1ZGVzKE1hdGguZmxvb3IoZXZlbnQudGFyZ2V0LnZhbHVlIC8gMTApKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSAzXG4gICAgICAgICYmIG91dE9mQm91bmQzLmluY2x1ZGVzKE1hdGguZmxvb3IoZXZlbnQudGFyZ2V0LnZhbHVlIC8gMTApKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIHNoaXAubGVuZ3RoID09PSAyXG4gICAgICAgICYmIG91dE9mQm91bmQyLmluY2x1ZGVzKE1hdGguZmxvb3IoZXZlbnQudGFyZ2V0LnZhbHVlIC8gMTApKTpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59O1xuY29uc3QgZ2V0Q29vcmRpbmF0ZXMgPSAoc2hpcCwgZXZlbnQsIGNvbG9yLCBpbmNyZW1lbnQpID0+IHtcbiAgY29uc3QgY29vcmRpbmF0ZSA9IFtdO1xuICBpZiAoc2hpcC5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gKHNoaXAubGVuZ3RoIC0gMSkgKiBpbmNyZW1lbnQ7IGkgKz0gaW5jcmVtZW50KSB7XG4gICAgaWYgKGNoZWNrSWZPdXRPZkJvdW5kKHNoaXAsIGV2ZW50LCBpbmNyZW1lbnQpKSByZXR1cm47XG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlICsgaSA9PT0gJ3gwJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSArIGl9XCJdYCkgPT09IG51bGxcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGlmIChldmVudC50YXJnZXQudmFsdWUgKyBpID09PSAneDAnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSArIGl9XCJdYCxcbiAgICApLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgIGNvb3JkaW5hdGUucHVzaChldmVudC50YXJnZXQudmFsdWUgKyBpKTtcbiAgfVxuICByZXR1cm4gY29vcmRpbmF0ZTtcbn07XG5jb25zdCBnZXRDb2x1bW5zID0gKHNoaXApID0+IHtcbiAgY29uc3QgY29sdW1ucyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8PSBzaGlwLmxlbmd0aCAtIDE7IGkgKz0gMSkge1xuICAgIGlmIChzaGlwLnBvc2l0aW9uW2ldKSB7XG4gICAgICBjb2x1bW5zLnB1c2goTWF0aC5mbG9vcihzaGlwLnBvc2l0aW9uW2ldIC8gMTApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29sdW1ucztcbn07XG5jb25zdCBjaGFuZ2VDb2xvciA9ICgpID0+IHtcbiAgY29uc3Qgc2VsZWN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheWVyLWdyaWRzJykpO1xuICBzZWxlY3RcbiAgICAuZmlsdGVyKChlbGVtZW50KSA9PiBlbGVtZW50LnZhbHVlID09PSAneCcpXG4gICAgLmZvckVhY2goKGVsZW1lbnQpID0+IChlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdsaWdodGJsdWUnKSk7XG59O1xuXG5jb25zdCByYW5kb21HcmlkUGlja2VyID0gKGJvYXJkLCBncmlkcykgPT4ge1xuICBjb25zdCByYW5kb21seVBpY2tlZEdyaWQgPSBib2FyZC5hdXRvUGxheShncmlkcyk7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgbWFwLnNldChyYW5kb21seVBpY2tlZEdyaWQsIHJhbmRvbWx5UGlja2VkR3JpZC52YWx1ZSk7XG4gIGNvbnN0IGl0ZXJhdG9yID0gbWFwLmVudHJpZXMoKS5uZXh0KCkudmFsdWU7XG5cbiAgcmV0dXJuIHsga2V5OiBpdGVyYXRvclswXSwgdmFsdWU6IGl0ZXJhdG9yWzFdIH07XG59O1xuXG4vLyBjb25zb2xlLmxvZyhyYW5kb21HcmlkUGlja2VyKG5ldyBHYW1lQm9hcmQoKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllci1ncmlkcycpKSk7XG5jb25zdCBzdG9yZVBsYXllckNsaWNrcyA9IFtdO1xuY29uc3Qgc3RvcmVDbGlja3MgPSBbXTtcbmV4cG9ydCBjb25zdCByZW5kZXJBdHRhY2sgPSAocGxheWVyQm9hcmQpID0+IHtcbiAgY29uc3QgYWlCb2FyZCA9IG5ldyBHYW1lQm9hcmQoKTtcblxuICBhaUJvYXJkLm5hbWUgPSAnYWlCb2FyZCc7XG4gIGxldCBhaTtcbiAgbGV0IHJhbmRvbWx5UGlja2VkR3JpZDtcbiAgbGV0IGdyaWRWYWx1ZTtcbiAgY29uc3QgcGxheWVyR3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheWVyLWdyaWRzJyk7XG4gIGNvbnN0IGFpR3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWktZ3JpZHMnKTtcblxuICBhaUdyaWRzLmZvckVhY2goKGVsZW1lbnQpID0+IGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRJZCA9IGUudGFyZ2V0LmlkO1xuICAgIGFpID0gbmV3IFBsYXllcigpO1xuICAgIGNvbnN0IHJhbmRvbUl0ZXJhdG9yID0gcmFuZG9tR3JpZFBpY2tlcihhaSwgcGxheWVyR3JpZHMpO1xuICAgIHJhbmRvbWx5UGlja2VkR3JpZCA9IHJhbmRvbUl0ZXJhdG9yLmtleTtcbiAgICBncmlkVmFsdWUgPSByYW5kb21JdGVyYXRvci52YWx1ZTtcblxuICAgIGlmIChlbGVtZW50VmFsdWUgPT09ICd4JyAmJiAhc3RvcmVQbGF5ZXJDbGlja3MuaW5jbHVkZXMoZWxlbWVudElkKSkge1xuICAgICAgc3RvcmVQbGF5ZXJDbGlja3MucHVzaChlbGVtZW50SWQpO1xuICAgICAgYWlCb2FyZC5yZWNpZXZlQXR0YWNrKGVsZW1lbnRWYWx1ZSk7XG4gICAgICBjaGVja0lmV29uKGFpQm9hcmQpO1xuICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDI0OCwgNzgsIDQ5ICknO1xuICAgICAgcmVuZGVyQWlBdHRhY2socmFuZG9tbHlQaWNrZWRHcmlkLCBncmlkVmFsdWUsIHBsYXllckJvYXJkKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRWYWx1ZSAhPT0gJ3gnKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdsaWdodGdyZWVuJztcbiAgICAgIHJlbmRlckFpQXR0YWNrKHJhbmRvbWx5UGlja2VkR3JpZCwgZ3JpZFZhbHVlLCBwbGF5ZXJCb2FyZCk7XG4gICAgfVxuICB9KSk7XG59O1xubGV0IGZsYWcgPSB0cnVlO1xubGV0IGRpcmVjdGlvbiA9ICdob3Jpem9udGFsJztcbmxldCBpbmNyZW1lbnQgPSAxO1xuY29uc3Qgcm90YXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JvdGF0ZScpO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyUGxheWVyU2hpcHMgPSAoZ2FtZWJvYXJkLCBsZW5ndGgpID0+IHtcbiAgY29uc3QgZ3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAucGxheWVyLWdyaWRzLiR7ZGlyZWN0aW9ufWApO1xuXG4gIGNvbnN0IHNoaXAgPSBuZXcgU2hpcChsZW5ndGgsIFswLCAwLCAwXSwgWzEsIDIsIDNdKTtcblxuICBpZiAobGVuZ3RoID09PSAzKSB7XG4gICAgaWYgKGZsYWcpIHtcbiAgICAgIGxlbmd0aCArPSAxO1xuICAgICAgZmxhZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAobGVuZ3RoIDw9IDEpIHtcbiAgICByZW5kZXJBdHRhY2soZ2FtZWJvYXJkKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBncmlkcy5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKSA9PiB7XG4gICAgZ2V0Q29vcmRpbmF0ZXMoc2hpcCwgZSwgJ2xpZ2h0Ymx1ZScsIGluY3JlbWVudCk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNoaXAucG9zaXRpb24gPSBnZXRDb29yZGluYXRlcyhzaGlwLCBlLCAncmVkJywgaW5jcmVtZW50KTtcbiAgICAgICAgc2hpcC5jb2x1bW4gPSBnZXRDb2x1bW5zKHNoaXApO1xuICAgICAgICBnYW1lYm9hcmQucGxhY2VTaGlwKHNoaXApO1xuICAgICAgICB1cGRhdGVCb2FyZChcbiAgICAgICAgICBnYW1lYm9hcmQsXG4gICAgICAgICAgJ3ByaW1hcnktY29udGFpbmVyJyxcbiAgICAgICAgICAncGxheWVyLWdyaWRzJyxcbiAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgICk7XG4gICAgICAgIGNoYW5nZUNvbG9yKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZW5kZXJQbGF5ZXJTaGlwcyhnYW1lYm9hcmQsIGxlbmd0aCAtIDEpO1xuICAgIH0pO1xuICB9KSk7XG5cbiAgZ3JpZHMuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChlKSA9PiB7XG4gICAgZ2V0Q29vcmRpbmF0ZXMoc2hpcCwgZSwgJ3JnYigyMzIgMjMwIDIzMCknLCBpbmNyZW1lbnQpO1xuICB9KSk7XG59O1xuXG5jb25zdCByZW5kZXJBaUF0dGFjayA9IChyYW5kb21seVBpY2tlZEdyaWQsIGdyaWRWYWx1ZSwgcGxheWVyQm9hcmQpID0+IHtcbiAgbGV0IGNsaWNrZWQgPSBmYWxzZTtcbiAgcmFuZG9tbHlQaWNrZWRHcmlkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZihjbGlja2VkKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2xpY2tlZCA9IHRydWU7XG4gICAgbGV0IGVsZW1lbnRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGxldCBlbGVtZW50SWQgPSBlLnRhcmdldC5pZDtcblxuICAgIGlmIChzdG9yZUNsaWNrcy5pbmNsdWRlcyhlbGVtZW50SWQpKSB7XG4gICAgICBjb25zdCBncmlkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5ZXItZ3JpZHMnKTtcbiAgICAgIGNvbnN0IGFpID0gbmV3IFBsYXllcigpO1xuICAgICAgbGV0IHJhbmRvbSA9IHJhbmRvbUdyaWRQaWNrZXIoYWksIGdyaWRzKTtcblxuICAgICAgd2hpbGUgKHN0b3JlQ2xpY2tzLmluY2x1ZGVzKHJhbmRvbS5rZXkuaWQpKSB7XG4gICAgICAgIHJhbmRvbSA9IHJhbmRvbUdyaWRQaWNrZXIoYWksIGdyaWRzKTtcbiAgICAgIH1cblxuICAgICAgcmFuZG9tbHlQaWNrZWRHcmlkID0gcmFuZG9tLmtleTtcbiAgICAgIGdyaWRWYWx1ZSA9IHJhbmRvbS52YWx1ZTtcbiAgICAgIGVsZW1lbnRWYWx1ZSA9IHJhbmRvbS52YWx1ZTtcbiAgICAgIGVsZW1lbnRJZCA9IHJhbmRvbS5rZXkuaWQ7XG4gICAgfVxuXG4gICAgaWYgKGdyaWRWYWx1ZSA9PT0gJ3gnICYmICFzdG9yZUNsaWNrcy5pbmNsdWRlcyhlbGVtZW50SWQpKSB7XG4gICAgICBzdG9yZUNsaWNrcy5wdXNoKGVsZW1lbnRJZCk7XG4gICAgICBwbGF5ZXJCb2FyZC5yZWNpZXZlQXR0YWNrKGdyaWRWYWx1ZSk7XG4gICAgICBjaGVja0lmV29uKHBsYXllckJvYXJkKTtcbiAgICAgIHJhbmRvbWx5UGlja2VkR3JpZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDI0OCwgNzgsIDQ5KSc7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VmFsdWUgIT09ICd4JyAmJiAhcGxheWVyQm9hcmQuaXNNaXNzZWQoZWxlbWVudFZhbHVlKSkge1xuICAgICAgc3RvcmVDbGlja3MucHVzaChlbGVtZW50SWQpO1xuICAgICAgcGxheWVyQm9hcmQucmVjaWV2ZU1pc3MoZWxlbWVudFZhbHVlKTtcbiAgICAgIHJhbmRvbWx5UGlja2VkR3JpZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnbGlnaHRncmVlbic7XG4gICAgfSBlbHNlIGlmIChwbGF5ZXJCb2FyZC5pc01pc3NlZChlbGVtZW50VmFsdWUpKSB7XG4gICAgICAvLyBjb25zdCBldmVudCA9IG5ldyBFdmVudCgnY2xpY2snKTtcbiAgICAgIC8vIHJhbmRvbWx5UGlja2VkR3JpZC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCdjbGljaycpO1xuICByYW5kb21seVBpY2tlZEdyaWQuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyUGxheWVyQXR0YWNrID0gKGJvYXJkKSA9PiB7XG4gIGNvbnN0IGFpR3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWktZ3JpZHMnKTtcbiAgYWlHcmlkcy5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09ICd4Jykge1xuICAgICAgYm9hcmQucmVjaWV2ZUF0dGFjayhlLnRhcmdldC52YWx1ZSk7XG4gICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMjQ4LCA3OCwgNDkgKSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2xpZ2h0Z3JlZW4nO1xuICAgIH1cbiAgfSkpO1xufTtcblxucm90YXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBpZiAoZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICBkaXJlY3Rpb24gPSAndmVydGljYWwnO1xuICAgIGluY3JlbWVudCA9IDEwO1xuICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgIGRpcmVjdGlvbiA9ICdob3Jpem9udGFsJztcbiAgICBpbmNyZW1lbnQgPSAxO1xuICB9XG59KTtcblxuY29uc3QgY2hlY2tJZldvbiA9IChib2FyZCkgPT4ge1xuICBsZXQgYm9hcmROYW1lID0gJyc7XG4gIGlmIChib2FyZC5oaXRzLmxlbmd0aCA9PT0gMTcpIHtcbiAgICBib2FyZE5hbWUgPSBib2FyZC5uYW1lID09PSAnYWlCb2FyZCcgPyAnWW91JyA6ICdDb21wdXRlcic7XG5cbiAgICBjb25zdCB3aW5uZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2lubmVyLWNvbnRhaW5lcicpO1xuICAgIHdpbm5lckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgd2lubmVyQ29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50ID0gYCR7Ym9hcmROYW1lfSBXb24hIWA7XG4gICAgd2lubmVyQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50KSB7XG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5jb25zdCByYW5kb21pemVTaGlwUGxhY2VtZW50ID0gKHNoaXAsIHJhbmRvbU51bWJlcikgPT4ge1xuICBzaGlwLmNvbHVtbi5maWxsKHJhbmRvbU51bWJlcik7XG5cbiAgY29uc3QgcmFuZG9tUHJlZml4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSkudG9TdHJpbmcoKTtcbiAgbGV0IHBhcnNlZEludCA9IHBhcnNlSW50KGAxJHtyYW5kb21OdW1iZXJ9JHtyYW5kb21QcmVmaXh9YCk7XG5cbiAgc2hpcC5wb3NpdGlvbiA9IHNoaXAucG9zaXRpb24ubWFwKCh4KSA9PiB7XG4gICAgY29uc3QgaW5jcmVtZW50ZWRWYWx1ZSA9IHBhcnNlZEludCArIDE7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgeCA9IGluY3JlbWVudGVkVmFsdWU7XG4gICAgcGFyc2VkSW50ICs9IDE7XG4gICAgcmV0dXJuIGluY3JlbWVudGVkVmFsdWU7XG4gIH0pO1xufTtcblxuY29uc3QgcmFuZG9tQXJyYXkgPSAoc2l6ZSkgPT4ge1xuICBjb25zdCBhcnJheSA9IFtdO1xuICBsZXQgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gMSkge1xuICAgIHdoaWxlIChhcnJheS5pbmNsdWRlcyhyYW5kb20pKSB7XG4gICAgICByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgfVxuICAgIGFycmF5LnB1c2gocmFuZG9tKTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59O1xuZXhwb3J0IGNvbnN0IHJlbmRlckFpU2hpcHMgPSAoZ2FtZWJvYXJkKSA9PiB7XG4gIGNvbnN0IHNoaXAgPSBuZXcgU2hpcCg1LCBbMCwgMCwgMCwgMCwgMF0sIFsxMDEsIDEwMiwgMTAzLCAxMDQsIDEwNV0pO1xuICBjb25zdCBzaGlwMiA9IG5ldyBTaGlwKDQsIFs3LCA3LCA3LCA3XSwgWzE3MywgMTc0LCAxNzUsIDE3Nl0pO1xuICBjb25zdCBzaGlwMyA9IG5ldyBTaGlwKDMsIFsyLCAyLCAyXSwgWzEyMiwgMTIzLCAxMjRdKTtcbiAgY29uc3Qgc2hpcDQgPSBuZXcgU2hpcCgzLCBbNCwgNCwgNF0sIFsxNDQsIDE0NSwgMTQ2XSk7XG4gIGNvbnN0IHNoaXA1ID0gbmV3IFNoaXAoMiwgWzgsIDldLCBbMTgxLCAxOTFdKTtcblxuICBjb25zdCByYW5kb20gPSByYW5kb21BcnJheSg1KTtcbiAgcmFuZG9taXplU2hpcFBsYWNlbWVudChzaGlwLCByYW5kb21bMF0pO1xuICByYW5kb21pemVTaGlwUGxhY2VtZW50KHNoaXAyLCByYW5kb21bMV0pO1xuICByYW5kb21pemVTaGlwUGxhY2VtZW50KHNoaXAzLCByYW5kb21bMl0pO1xuICByYW5kb21pemVTaGlwUGxhY2VtZW50KHNoaXA0LCByYW5kb21bM10pO1xuICByYW5kb21pemVTaGlwUGxhY2VtZW50KHNoaXA1LCByYW5kb21bNF0pO1xuXG4gIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcCk7XG4gIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcDIpO1xuICBnYW1lYm9hcmQucGxhY2VTaGlwKHNoaXAzKTtcbiAgZ2FtZWJvYXJkLnBsYWNlU2hpcChzaGlwNCk7XG4gIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcDUpO1xuICB1cGRhdGVCb2FyZChnYW1lYm9hcmQsICdzZWNvbmRhcnktY29udGFpbmVyJywgJ2FpLWdyaWRzJywgJ2hvcml6b250YWwnKTtcbn07XG4iLCJpbXBvcnQgR2FtZUJvYXJkIGZyb20gJy4uL2ZhY3Rvcmllcy9HYW1lQm9hcmQnO1xuaW1wb3J0IHtcbiAgY3JlYXRlQm9hcmQsXG4gIHJlbmRlckFpU2hpcHMsXG4gIHJlbmRlclBsYXllclNoaXBzLFxufSBmcm9tICcuL2RvbSc7XG5cbmNvbnN0IHJ1bkdhbWUgPSAoKSA9PiB7XG4gIGNvbnN0IHBsYXllckJvYXJkID0gbmV3IEdhbWVCb2FyZCgpO1xuICBjb25zdCBhaUJvYXJkID0gbmV3IEdhbWVCb2FyZCgpO1xuICBwbGF5ZXJCb2FyZC5pbml0aWFsaXplKDApO1xuICBhaUJvYXJkLmluaXRpYWxpemUoMTAwKTtcblxuICBjcmVhdGVCb2FyZChwbGF5ZXJCb2FyZCwgJyNwcmltYXJ5LWNvbnRhaW5lcicsICdwbGF5ZXItZ3JpZHMnLCAnaG9yaXpvbnRhbCcpO1xuICBjcmVhdGVCb2FyZChhaUJvYXJkLCAnI3NlY29uZGFyeS1jb250YWluZXInLCAnYWktZ3JpZHMnLCAnaG9yaXpvbnRhbCcpO1xuXG4gIHJlbmRlckFpU2hpcHMoYWlCb2FyZCk7XG5cbiAgcmVuZGVyUGxheWVyU2hpcHMocGxheWVyQm9hcmQsIDUsIGFpQm9hcmQpO1xufTtcbnJ1bkdhbWUoKTtcbiJdLCJuYW1lcyI6WyJHYW1lQm9hcmQiLCJjb25zdHJ1Y3RvciIsImJvYXJkIiwidGhpcyIsIm1pc3NlZCIsImhpdHMiLCJhbGxvdyIsIm5hbWUiLCJpbml0aWFsaXplIiwiY291bnQiLCJpIiwiaiIsInBsYWNlU2hpcCIsInNoaXAiLCJjb2x1bW4iLCJwb3NpdGlvbiIsImxlbmd0aCIsImluZGV4T2YiLCJyZWNpZXZlQXR0YWNrIiwicHVzaCIsInJlY2lldmVNaXNzIiwiaXNNaXNzZWQiLCJpbmNsdWRlcyIsImFsbG93QXR0YWNrIiwiaW5zdGFuY2VOYW1lIiwiYWxsU2hpcFN1bmsiLCJQbGF5ZXIiLCJ0dXJuIiwiYXV0b1BsYXkiLCJncmlkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiU2hpcCIsImhpdCIsImhpdFBvc2l0aW9uIiwiY3JlYXRlQm9hcmQiLCJuZXdCb2FyZCIsImlkIiwiY2xhc3NOYW1lIiwiZGlyZWN0aW9uIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImUiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwidXBkYXRlQm9hcmQiLCJjb250YWluZXJJRCIsImdyaWRJRCIsInJlbW92ZUJvYXJkIiwicXVlcnlTZWxlY3RvckFsbCIsImVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImNoZWNrSWZPdXRPZkJvdW5kIiwiZXZlbnQiLCJpbmNyZW1lbnQiLCJvdXRPZkJvdW5kNSIsIm91dE9mQm91bmQ0Iiwib3V0T2ZCb3VuZDMiLCJvdXRPZkJvdW5kMiIsInRhcmdldCIsImdldENvb3JkaW5hdGVzIiwiY29sb3IiLCJjb29yZGluYXRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJyYW5kb21HcmlkUGlja2VyIiwiZ3JpZHMiLCJyYW5kb21seVBpY2tlZEdyaWQiLCJtYXAiLCJNYXAiLCJzZXQiLCJpdGVyYXRvciIsImVudHJpZXMiLCJuZXh0Iiwia2V5Iiwic3RvcmVQbGF5ZXJDbGlja3MiLCJzdG9yZUNsaWNrcyIsImZsYWciLCJyb3RhdGVCdXR0b24iLCJyZW5kZXJQbGF5ZXJTaGlwcyIsImdhbWVib2FyZCIsInBsYXllckJvYXJkIiwiYWlCb2FyZCIsImFpIiwiZ3JpZFZhbHVlIiwicGxheWVyR3JpZHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZWxlbWVudFZhbHVlIiwiZWxlbWVudElkIiwicmFuZG9tSXRlcmF0b3IiLCJyZW5kZXJBaUF0dGFjayIsImNoZWNrSWZXb24iLCJyZW5kZXJBdHRhY2siLCJjb2x1bW5zIiwiZ2V0Q29sdW1ucyIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsImNsaWNrZWQiLCJFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJib2FyZE5hbWUiLCJ3aW5uZXJDb250YWluZXIiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIkhUTUxCdXR0b25FbGVtZW50IiwibG9jYXRpb24iLCJyZWxvYWQiLCJyYW5kb21pemVTaGlwUGxhY2VtZW50IiwicmFuZG9tTnVtYmVyIiwiZmlsbCIsInJhbmRvbVByZWZpeCIsInRvU3RyaW5nIiwicGFyc2VkSW50IiwicGFyc2VJbnQiLCJ4IiwiaW5jcmVtZW50ZWRWYWx1ZSIsInNoaXAyIiwic2hpcDMiLCJzaGlwNCIsInNoaXA1Iiwic2l6ZSIsImFycmF5IiwicmFuZG9tQXJyYXkiLCJyZW5kZXJBaVNoaXBzIiwicnVuR2FtZSJdLCJzb3VyY2VSb290IjoiIn0=