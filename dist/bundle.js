(()=>{"use strict";class e{constructor(e){this.board=e||[],this.missed=[[]],this.hits=[[]]}initialize(){let e=0;for(let t=0;t<10;t++){this.board[t]=[];for(let o=0;o<10;o++)this.board[t][o]=e,e++}}placeShip(e){let t=e.column,o=e.position;for(let e=0;e<o.length;e++)this.board[t][this.board[t].indexOf(o[e])]="x"}recieveAttack(e,t){"x"===this.board[e][t]?void 0===this.hits[e]?this.hits[e]=[t]:this.hits[e].push(t):void 0===this.missed[e]?this.missed[e]=[t]:this.missed[e].push(t)}}class t{constructor(){this.turn=!0,this.position=this.position}autoPlay(){return Math.floor(10*Math.random())}}class o{constructor(e,t,o){this.length=e,this.hits=[],this.position=o,this.column=t}hit(e){this.position.includes(e)&&!this.hits.includes(e)&&this.hits.push(e)}isSunk(){return this.length===this.hits.length}}const r=(e,t)=>{const o=document.querySelector(t);e.initialize(),e.board.forEach((e=>{e.forEach((e=>{const t=document.createElement("div");t.classList.add("grids"),t.setAttribute("value",e),o.appendChild(t),t.value=e,t.textContent=e}))}))},l=(e,t,o)=>{switch(e.length){case 2:{const e=document.querySelector(`div[value="${t.target.value}"]`),r=document.querySelector(`div[value="${t.target.value+1}"]`);e.style.backgroundColor=o,r.style.backgroundColor=o}break;case 3:{const e=document.querySelector(`div[value="${t.target.value}"]`),r=document.querySelector(`div[value="${t.target.value+1}"]`),l=document.querySelector(`div[value="${t.target.value+2}"]`);e.style.backgroundColor=o,r.style.backgroundColor=o,l.style.backgroundColor=o}break;case 4:{const e=document.querySelector(`div[value="${t.target.value}"]`),r=document.querySelector(`div[value="${t.target.value+1}"]`),l=document.querySelector(`div[value="${t.target.value+2}"]`),s=document.querySelector(`div[value="${t.target.value+3}"]`);e.style.backgroundColor=o,r.style.backgroundColor=o,l.style.backgroundColor=o,s.style.backgroundColor=o}break;case 5:{const e=document.querySelector(`div[value="${t.target.value}"]`),r=document.querySelector(`div[value="${t.target.value+1}"]`),l=document.querySelector(`div[value="${t.target.value+2}"]`),s=document.querySelector(`div[value="${t.target.value+3}"]`),a=document.querySelector(`div[value="${t.target.value+4}"]`);e.style.backgroundColor=o,r.style.backgroundColor=o,l.style.backgroundColor=o,s.style.backgroundColor=o,a.style.backgroundColor=o}}};(()=>{new t,new t;const s=new e,a=new e;r(s,"#primary-container"),r(a,"#secondary-container"),((e,t)=>{const r=new o(2,0,[1,2,3]);e.placeShip(r);const s=document.querySelectorAll("#primary-container>.grids");s.forEach((e=>e.addEventListener("mouseover",(e=>{l(r,e,"blue")})))),s.forEach((e=>e.addEventListener("click",(e=>{l(r,e,"yellow")})))),s.forEach((e=>e.addEventListener("mouseout",(e=>{l(r,e,"black")}))))})(s)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFBZSxNQUFNQSxFQUNuQkMsWUFBWUMsR0FDVkMsS0FBS0QsTUFBUUEsR0FBUyxHQUN0QkMsS0FBS0MsT0FBUyxDQUFDLElBQ2ZELEtBQUtFLEtBQU8sQ0FBQyxHQUNmLENBRUFDLGFBQ0UsSUFBSUMsRUFBUSxFQUNaLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQUssQ0FDM0JMLEtBQUtELE1BQU1NLEdBQUssR0FDaEIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDdEJOLEtBQUtELE1BQU1NLEdBQUdDLEdBQUtGLEVBQ25CQSxHQUVKLENBQ0YsQ0FFQUcsVUFBVUMsR0FDUixJQUFJQyxFQUFTRCxFQUFLQyxPQUNkQyxFQUFXRixFQUFLRSxTQUVwQixJQUFLLElBQUlMLEVBQUksRUFBR0EsRUFBSUssRUFBU0MsT0FBUU4sSUFDbkNMLEtBQUtELE1BQU1VLEdBQVFULEtBQUtELE1BQU1VLEdBQVFHLFFBQVFGLEVBQVNMLEtBQU8sR0FHbEUsQ0FFQVEsY0FBY0osRUFBUUMsR0FDaUIsTUFBakNWLEtBQUtELE1BQU1VLEdBQVFDLFFBQ0tJLElBQXRCZCxLQUFLRSxLQUFLTyxHQUNaVCxLQUFLRSxLQUFLTyxHQUFVLENBQUNDLEdBRXJCVixLQUFLRSxLQUFLTyxHQUFRTSxLQUFLTCxRQUVRSSxJQUF4QmQsS0FBS0MsT0FBT1EsR0FDckJULEtBQUtDLE9BQU9RLEdBQVUsQ0FBQ0MsR0FFdkJWLEtBQUtDLE9BQU9RLEdBQVFNLEtBQUtMLEVBRTdCLEVDeENLLE1BQU1NLEVBQ1RsQixjQUNJRSxLQUFLaUIsTUFBTyxFQUNaakIsS0FBS1UsU0FBV1YsS0FBS1UsUUFDekIsQ0FFQVEsV0FFSSxPQURhQyxLQUFLQyxNQUFvQixHQUFkRCxLQUFLRSxTQUVqQyxFQ1RXLE1BQU1DLEVBQ2pCeEIsWUFBWWEsRUFBT0YsRUFBT0MsR0FDdEJWLEtBQUtXLE9BQVNBLEVBQ2RYLEtBQUtFLEtBQU8sR0FDWkYsS0FBS1UsU0FBV0EsRUFDaEJWLEtBQUtTLE9BQVNBLENBRWxCLENBQ0FjLElBQUlDLEdBQ0d4QixLQUFLVSxTQUFTZSxTQUFTRCxLQUFpQnhCLEtBQUtFLEtBQUt1QixTQUFTRCxJQUMxRHhCLEtBQUtFLEtBQUthLEtBQUtTLEVBR3ZCLENBRUFFLFNBQ0ksT0FBRzFCLEtBQUtXLFNBQVdYLEtBQUtFLEtBQUtTLE1BSWpDLEVDbEJHLE1BQU1nQixFQUFjLENBQUNDLEVBQVNDLEtBQ2pDLE1BQU1DLEVBQVlDLFNBQVNDLGNBQWNILEdBQ3pDRCxFQUFTekIsYUFDR3lCLEVBQVM3QixNQUNma0MsU0FBUUMsSUFDVkEsRUFBRUQsU0FBUUMsSUFDTixNQUFNQyxFQUFNSixTQUFTSyxjQUFjLE9BQ25DRCxFQUFJRSxVQUFVQyxJQUFJLFNBQ2xCSCxFQUFJSSxhQUFhLFFBQVFMLEdBQ3pCSixFQUFVVSxZQUFZTCxHQUN0QkEsRUFBSU0sTUFBUVAsRUFDWkMsRUFBSU8sWUFBY1IsQ0FBQyxHQUVyQixHQUNKLEVBa0RBUyxFQUFhLENBQUNuQyxFQUFLb0MsRUFBTUMsS0FDM0IsT0FBT3JDLEVBQUtHLFFBQ1IsS0FBSyxFQUFHLENBQ0osTUFBTW1DLEVBQWlCZixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLFdBQ25FTyxFQUFjakIsU0FBU0MsY0FBYyxjQUFjWSxFQUFNRyxPQUFPTixNQUFNLE9BQzVFSyxFQUFlRyxNQUFNQyxnQkFBa0JMLEVBQ3RDRyxFQUFZQyxNQUFNQyxnQkFBa0JMLENBQ3JDLENBQ0MsTUFDTCxLQUFLLEVBQUUsQ0FDSCxNQUFNQyxFQUFpQmYsU0FBU0MsY0FBYyxjQUFjWSxFQUFNRyxPQUFPTixXQUNuRVUsRUFBZ0JwQixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLE1BQU0sT0FDeEVXLEVBQWVyQixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLE1BQU0sT0FDN0VLLEVBQWVHLE1BQU1DLGdCQUFrQkwsRUFDdkNNLEVBQWNGLE1BQU1DLGdCQUFrQkwsRUFDdENPLEVBQWFILE1BQU1DLGdCQUFrQkwsQ0FDekMsQ0FDQyxNQUNBLEtBQUssRUFBRyxDQUNMLE1BQU1DLEVBQWlCZixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLFdBQ25FVSxFQUFnQnBCLFNBQVNDLGNBQWMsY0FBY1ksRUFBTUcsT0FBT04sTUFBTSxPQUN4RVcsRUFBZXJCLFNBQVNDLGNBQWMsY0FBY1ksRUFBTUcsT0FBT04sTUFBTSxPQUN2RVksRUFBZ0J0QixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLE1BQU0sT0FDOUVLLEVBQWVHLE1BQU1DLGdCQUFrQkwsRUFDdkNNLEVBQWNGLE1BQU1DLGdCQUFrQkwsRUFDdENPLEVBQWFILE1BQU1DLGdCQUFrQkwsRUFDckNRLEVBQWNKLE1BQU1DLGdCQUFrQkwsQ0FDekMsQ0FDQSxNQUNBLEtBQUssRUFBRyxDQUNMLE1BQU1DLEVBQWlCZixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLFdBQ25FVSxFQUFnQnBCLFNBQVNDLGNBQWMsY0FBY1ksRUFBTUcsT0FBT04sTUFBTSxPQUN4RVcsRUFBZXJCLFNBQVNDLGNBQWMsY0FBY1ksRUFBTUcsT0FBT04sTUFBTSxPQUN2RVksRUFBZ0J0QixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLE1BQU0sT0FDeEVhLEVBQWV2QixTQUFTQyxjQUFjLGNBQWNZLEVBQU1HLE9BQU9OLE1BQU0sT0FDN0VLLEVBQWVHLE1BQU1DLGdCQUFrQkwsRUFDdkNNLEVBQWNGLE1BQU1DLGdCQUFrQkwsRUFDdENPLEVBQWFILE1BQU1DLGdCQUFrQkwsRUFDckNRLEVBQWNKLE1BQU1DLGdCQUFrQkwsRUFDdENTLEVBQWFMLE1BQU1DLGdCQUFrQkwsQ0FDeEMsRUFDTCxFQ3RHbUIsTUFDSixJQUFJN0IsRUFDUixJQUFJQSxFQURmLE1BRU11QyxFQUFZLElBQUkxRCxFQUNoQjJELEVBQWEsSUFBSTNELEVBRXZCOEIsRUFBWTRCLEVBQVUsc0JBQ3RCNUIsRUFBWTZCLEVBQVcsd0JEa0dDLEVBQUNELEVBQVU1QyxLQUNuQyxNQUFNSCxFQUFPLElBQUljLEVDbEdNLEVEa0dNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsSUFDcENpQyxFQUFVaEQsVUFBVUMsR0FDcEIsTUFBTWlELEVBQVExQixTQUFTMkIsaUJBQWlCLDZCQUN4Q0QsRUFBTXhCLFNBQVEwQixHQUFTQSxFQUFRQyxpQkFBaUIsYUFBYTFCLElBRXJEUyxFQUFZbkMsRUFBSzBCLEVBQUUsT0FBTyxNQVluQ3VCLEVBQU14QixTQUFRMEIsR0FBU0EsRUFBUUMsaUJBQWlCLFNBQVMxQixJQUN4RFMsRUFBWW5DLEVBQUswQixFQUFFLFNBQ2IsTUFFTnVCLEVBQU14QixTQUFRMEIsR0FBU0EsRUFBUUMsaUJBQWlCLFlBQVkxQixJQUN6RFMsRUFBWW5DLEVBQUswQixFQUFFLFFBQVEsS0FDM0IsRUN6SEYyQixDQUFZTixFQUFZLEVBYTdCTyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMvR2FtZUJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9TaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc2NyaXB0cy9kb20uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zY3JpcHRzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUJvYXJkIHtcbiAgY29uc3RydWN0b3IoYm9hcmQpIHtcbiAgICB0aGlzLmJvYXJkID0gYm9hcmQgfHwgW107XG4gICAgdGhpcy5taXNzZWQgPSBbW11dO1xuICAgIHRoaXMuaGl0cyA9IFtbXV07XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICB0aGlzLmJvYXJkW2ldID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgdGhpcy5ib2FyZFtpXVtqXSA9IGNvdW50O1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHBsYWNlU2hpcChzaGlwKSB7XG4gICAgbGV0IGNvbHVtbiA9IHNoaXAuY29sdW1uO1xuICAgIGxldCBwb3NpdGlvbiA9IHNoaXAucG9zaXRpb247XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5ib2FyZFtjb2x1bW5dW3RoaXMuYm9hcmRbY29sdW1uXS5pbmRleE9mKHBvc2l0aW9uW2ldKV0gPSAneCdcbiAgICAgIFxuICAgIH1cbiAgfVxuXG4gIHJlY2lldmVBdHRhY2soY29sdW1uLCBwb3NpdGlvbikge1xuICAgIGlmICh0aGlzLmJvYXJkW2NvbHVtbl1bcG9zaXRpb25dID09PSBcInhcIikge1xuICAgICAgaWYgKHRoaXMuaGl0c1tjb2x1bW5dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5oaXRzW2NvbHVtbl0gPSBbcG9zaXRpb25dO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaXRzW2NvbHVtbl0ucHVzaChwb3NpdGlvbik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLm1pc3NlZFtjb2x1bW5dID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubWlzc2VkW2NvbHVtbl0gPSBbcG9zaXRpb25dO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1pc3NlZFtjb2x1bW5dLnB1c2gocG9zaXRpb24pO1xuICAgIH1cbiAgfVxuIFxufVxuIiwiZXhwb3J0IGNsYXNzIFBsYXllcntcbiAgICBjb25zdHJ1Y3RvcigpeyBcbiAgICAgICAgdGhpcy50dXJuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgfVxuICBcbiAgICBhdXRvUGxheSgpe1xuICAgICAgICBsZXQgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKTtcbiAgICAgICAgcmV0dXJuIHJhbmRvbTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hpcHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsY29sdW1uLHBvc2l0aW9uKXtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuaGl0cyA9IFtdO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgICAgIFxuICAgIH1cbiAgICBoaXQoaGl0UG9zaXRpb24pe1xuICAgICAgICBpZih0aGlzLnBvc2l0aW9uLmluY2x1ZGVzKGhpdFBvc2l0aW9uKSYmICEodGhpcy5oaXRzLmluY2x1ZGVzKGhpdFBvc2l0aW9uKSkpe1xuICAgICAgICAgICAgdGhpcy5oaXRzLnB1c2goaGl0UG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIGlzU3Vuaygpe1xuICAgICAgICBpZih0aGlzLmxlbmd0aCA9PT0gdGhpcy5oaXRzLmxlbmd0aCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgR2FtZUJvYXJkIGZyb20gXCIuLi9mYWN0b3JpZXMvR2FtZUJvYXJkXCI7XG5pbXBvcnQgU2hpcCBmcm9tIFwiLi4vZmFjdG9yaWVzL1NoaXBcIjtcbmV4cG9ydCBjb25zdCBjcmVhdGVCb2FyZCA9IChuZXdCb2FyZCxpZCk9PntcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcbiAgICBuZXdCb2FyZC5pbml0aWFsaXplKCk7XG4gICAgbGV0IGJvYXJkID0gbmV3Qm9hcmQuYm9hcmQ7XG4gICAgYm9hcmQuZm9yRWFjaChlPT57XG4gICAgICAgIGUuZm9yRWFjaChlPT57XG4gICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdncmlkcycpOyBcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJyxlKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgICAgZGl2LnZhbHVlID0gZTtcbiAgICAgICAgICAgIGRpdi50ZXh0Q29udGVudCA9IGU7XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBcbn1cbmV4cG9ydCBjb25zdCB1cGRhdGVCb2FyZCA9IChuZXdCb2FyZCxjb250YWluZXJJRCxncmlkSUQpPT57XG4gICAgcmVtb3ZlQm9hcmQoY29udGFpbmVySUQsZ3JpZElEKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcklEKTtcbiAgICBsZXQgYm9hcmQgPSBuZXdCb2FyZC5ib2FyZDtcbiAgICBib2FyZC5mb3JFYWNoKGU9PntcbiAgICAgICAgZS5mb3JFYWNoKGU9PntcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2dyaWRzJyk7XG4gICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2UnLFwiZVwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgICBcbiAgICAgICAgICAgIGRpdi5pbm5lclRleHQgPSBlO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuICAgICAgICAgXG4gICAgfSk7XG5cbiAgICBcbn1cbmV4cG9ydCBjb25zdCByZW1vdmVCb2FyZCA9IChjb250YWluZXJJRCxncmlkSUQpPT57XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJJRCk7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZ3JpZElEKTtcbiAgICBncmlkLmZvckVhY2goZWxlbWVudD0+IHtcbiAgICAgICAgaWYoY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSlcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGVsZW1lbnQpXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgY2xpY2tFdmVudCA9IChwbGF5ZXIsYWkpPT57XG4gICAgY29uc3QgZ3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ3JpZHMnKTtcbiAgICBncmlkcy5mb3JFYWNoKGVsZW1lbnQ9PmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKT0+e1xuICAgICAgICBpZihwbGF5ZXIudHVybil7XG4gICAgICAgICAgICAgYWkudHVybiA9IHRydWU7XG4gICAgICAgICAgICAgcGxheWVyLnR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3BsYXllcjogJytlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ2NsaWNrJyk7XG4gICAgICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9ZWxzZSBpZihhaS50dXJuKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhaTogJysgYWkuYXV0b1BsYXkoKSk7XG4gICAgICAgICAgICBhaS50dXJuID0gZmFsc2U7XG4gICAgICAgICAgICBwbGF5ZXIudHVybiA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9KSk7XG59XG5jb25zdCBmaW5kRWxlbWVudD0gKHNoaXAsZXZlbnQsY29sb3IpPT57XG4gICAgc3dpdGNoKHNoaXAubGVuZ3RoKXtcbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdlt2YWx1ZT1cIiR7ZXZlbnQudGFyZ2V0LnZhbHVlfVwiXWApO1xuICAgICAgICAgICAgY29uc3QgbmV4dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSsxfVwiXWApO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICAgbmV4dEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzp7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdlt2YWx1ZT1cIiR7ZXZlbnQudGFyZ2V0LnZhbHVlfVwiXWApO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdlt2YWx1ZT1cIiR7ZXZlbnQudGFyZ2V0LnZhbHVlKzF9XCJdYCk7XG4gICAgICAgICAgICBjb25zdCB0aGlyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSsyfVwiXWApO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBzZWNvbmRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgdGhpcmRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgICBicmVhaztcbiAgICAgICAgIGNhc2UgNDoge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZX1cIl1gKTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSsxfVwiXWApO1xuICAgICAgICAgICAgY29uc3QgdGhpcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgZGl2W3ZhbHVlPVwiJHtldmVudC50YXJnZXQudmFsdWUrMn1cIl1gKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdXJ0aEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSszfVwiXWApO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBzZWNvbmRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgdGhpcmRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgZm91cnRoRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgIH1cbiAgICAgICAgIGJyZWFrO1xuICAgICAgICAgY2FzZSA1OiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdlt2YWx1ZT1cIiR7ZXZlbnQudGFyZ2V0LnZhbHVlfVwiXWApO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdlt2YWx1ZT1cIiR7ZXZlbnQudGFyZ2V0LnZhbHVlKzF9XCJdYCk7XG4gICAgICAgICAgICBjb25zdCB0aGlyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSsyfVwiXWApO1xuICAgICAgICAgICAgY29uc3QgZm91cnRoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdlt2YWx1ZT1cIiR7ZXZlbnQudGFyZ2V0LnZhbHVlKzN9XCJdYCk7XG4gICAgICAgICAgICBjb25zdCBmaWZ0aEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZbdmFsdWU9XCIke2V2ZW50LnRhcmdldC52YWx1ZSs0fVwiXWApO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICBzZWNvbmRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgdGhpcmRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgZm91cnRoRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGZpZnRoRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZW5kZXJTaGlwcyA9ICAoZ2FtZWJvYXJkLGxlbmd0aCkgPT57XG4gICAgY29uc3Qgc2hpcCA9IG5ldyBTaGlwKGxlbmd0aCwwLFsxLDIsM10pO1xuICAgIGdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcCk7XG4gICAgY29uc3QgZ3JpZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcHJpbWFyeS1jb250YWluZXI+LmdyaWRzJyk7XG4gICAgZ3JpZHMuZm9yRWFjaChlbGVtZW50PT5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsKGUpPT57XG4gICAgICAgIFxuICAgICAgICAgICAgZmluZEVsZW1lbnQoc2hpcCxlLCdibHVlJyk7XG4gICAgICAgICAgICAvLyBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoZSk9PntcbiAgICAgICAgICAgIC8vICAgICBmaW5kRWxlbWVudChzaGlwLGUsJ3llbGxvdycpO1xuICAgICAgICAgICAgLy8gICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgXG4gICAgfSkpO1xuICAgIFxuXG4gXG4gICBncmlkcy5mb3JFYWNoKGVsZW1lbnQ9PmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKT0+e1xuICAgIGZpbmRFbGVtZW50KHNoaXAsZSwneWVsbG93Jyk7XG4gICAgcmV0dXJuO1xuICAgfSkpXG4gICAgZ3JpZHMuZm9yRWFjaChlbGVtZW50PT5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywoZSk9PntcbiAgICAgICBmaW5kRWxlbWVudChzaGlwLGUsJ2JsYWNrJyk7XG4gICAgfSkpOyAgICAgXG4gICAgXG59XG5cblxuIiwiaW1wb3J0IEdhbWVCb2FyZCBmcm9tIFwiLi4vZmFjdG9yaWVzL0dhbWVCb2FyZFwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL2ZhY3Rvcmllcy9QbGF5ZXJcIlxuaW1wb3J0IFNoaXAgZnJvbSBcIi4uL2ZhY3Rvcmllcy9TaGlwXCI7XG5pbXBvcnQgeyBjbGlja0V2ZW50LCBjcmVhdGVCb2FyZCwgcmVtb3ZlQm9hcmQsIHJlbmRlclNoaXBzLCB1cGRhdGVCb2FyZCB9IGZyb20gXCIuL2RvbVwiO1xuU2hpcFxuZXhwb3J0IGNvbnN0IHJ1bkdhbWUgPSAoKT0+e1xuICAgIGNvbnN0IHBsYXllciA9IG5ldyBQbGF5ZXIoKTtcbiAgICBjb25zdCBhaSA9IG5ldyBQbGF5ZXIoKTtcbiAgICBjb25zdCBnYW1lYm9hcmQgPSBuZXcgR2FtZUJvYXJkKCk7XG4gICAgY29uc3QgZ2FtZWJvYXJkMiA9IG5ldyBHYW1lQm9hcmQoKTtcbiAgICBcbiAgICBjcmVhdGVCb2FyZChnYW1lYm9hcmQsJyNwcmltYXJ5LWNvbnRhaW5lcicpO1xuICAgIGNyZWF0ZUJvYXJkKGdhbWVib2FyZDIsJyNzZWNvbmRhcnktY29udGFpbmVyJyk7XG4gICAgIHJlbmRlclNoaXBzKGdhbWVib2FyZCwyKTtcbiAgICAvLyAgcmVuZGVyU2hpcHMoZ2FtZWJvYXJkLDQpO1xuICAgIC8vIGZvcihsZXQgaSA9MDtpPDQ7IGkrKyl7XG4gICAgICAgXG4gICAgLy8gICAgIHJlbmRlclNoaXBzKGdhbWVib2FyZCw0KTtcbiAgICAvLyB9XG4gICAgIFxuICAgIFxuXG4gICAgLy8gIHVwZGF0ZUJvYXJkKGdhbWVib2FyZCwnI3ByaW1hcnktY29udGFpbmVyJyxcIi5ncmlkc1wiKTtcbiAgICAvLyAgY29uc29sZS5sb2coZ2FtZWJvYXJkLmJvYXJkKTtcbiAgICAvLyAgY2xpY2tFdmVudChwbGF5ZXIsYWkpO1xufVxucnVuR2FtZSgpOyJdLCJuYW1lcyI6WyJHYW1lQm9hcmQiLCJjb25zdHJ1Y3RvciIsImJvYXJkIiwidGhpcyIsIm1pc3NlZCIsImhpdHMiLCJpbml0aWFsaXplIiwiY291bnQiLCJpIiwiaiIsInBsYWNlU2hpcCIsInNoaXAiLCJjb2x1bW4iLCJwb3NpdGlvbiIsImxlbmd0aCIsImluZGV4T2YiLCJyZWNpZXZlQXR0YWNrIiwidW5kZWZpbmVkIiwicHVzaCIsIlBsYXllciIsInR1cm4iLCJhdXRvUGxheSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIlNoaXAiLCJoaXQiLCJoaXRQb3NpdGlvbiIsImluY2x1ZGVzIiwiaXNTdW5rIiwiY3JlYXRlQm9hcmQiLCJuZXdCb2FyZCIsImlkIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZm9yRWFjaCIsImUiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJ2YWx1ZSIsInRleHRDb250ZW50IiwiZmluZEVsZW1lbnQiLCJldmVudCIsImNvbG9yIiwiY3VycmVudEVsZW1lbnQiLCJ0YXJnZXQiLCJuZXh0RWxlbWVudCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwic2Vjb25kRWxlbWVudCIsInRoaXJkRWxlbWVudCIsImZvdXJ0aEVsZW1lbnQiLCJmaWZ0aEVsZW1lbnQiLCJnYW1lYm9hcmQiLCJnYW1lYm9hcmQyIiwiZ3JpZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXJTaGlwcyIsInJ1bkdhbWUiXSwic291cmNlUm9vdCI6IiJ9